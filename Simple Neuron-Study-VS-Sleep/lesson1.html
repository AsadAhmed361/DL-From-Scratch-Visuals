<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Neural Network: Study vs. Sleep</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Orbitron:wght@400;700&display=swap');

        :root {
            --bg-color: #0d1a26; /* Dark blue/grey */
            --surface-color: #1a2a3a; /* Slightly lighter surface */
            --primary-color: #00aaff; /* Bright blue for accents */
            --accent-color: #ff6b6b; /* Red for negative weights/reset */
            --text-color: #e0e0e0;
            --secondary-text-color: #a0a0a0;
            --shadow-color: rgba(0, 0, 0, 0.6);
            --border-radius: 12px;
            --gradient-start: #1a2a3a;
            --gradient-end: #2a3d50;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, var(--bg-color), darken(var(--bg-color), 5%));
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            flex-wrap: wrap;
            line-height: 1.6;
            background-attachment: fixed;
        }

        .container {
            display: flex;
            flex-direction: column;
            width: 100%;
            max-width: 1200px; /* Increased max-width */
            gap: 30px; /* Increased gap */
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 25px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            text-shadow: 0 0 15px rgba(0, 170, 255, 0.7);
            letter-spacing: 1.5px;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        @media (max-width: 992px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        .nn-visualization-panel, .panel-section, .explanation-panel {
            background: linear-gradient(145deg, var(--gradient-start), var(--gradient-end));
            border-radius: var(--border-radius);
            box-shadow: 0 8px 30px var(--shadow-color);
            padding: 30px;
            border: 1px solid rgba(0, 170, 255, 0.2); /* Subtle border */
        }

        .nn-visualization-panel {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 450px; /* Ensure a decent height */
        }

        .nn-visualization-panel h2, .panel-section h2, .explanation-panel h2 {
            margin-top: 0;
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 12px;
            margin-bottom: 20px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 400;
            text-shadow: 0 0 8px rgba(0, 170, 255, 0.5);
        }

        .nn-graph {
            width: 100%;
            height: 350px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            position: relative;
            margin-top: 20px;
        }

        .layer {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 40px; /* Increased gap between neurons in a layer */
        }

        .neuron {
            width: 90px; /* Slightly larger neurons */
            height: 90px;
            border-radius: 50%;
            border: 4px solid var(--primary-color); /* Thicker border */
            background-color: rgba(0, 170, 255, 0.1); /* Slightly transparent fill */
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            transition: background-color 0.4s ease, transform 0.2s ease, box-shadow 0.4s ease;
            position: relative;
            box-shadow: 0 0 15px rgba(0, 170, 255, 0.7); /* Stronger glow */
            font-size: 16px; /* Larger font */
            color: var(--text-color);
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.8);
            cursor: default;
        }

        .neuron:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(0, 170, 255, 0.9), 0 0 40px rgba(0, 170, 255, 0.4);
        }

        .neuron-label {
            position: absolute;
            top: -30px; /* Adjusted position */
            color: var(--secondary-text-color);
            font-size: 13px; /* Slightly smaller for labels */
            white-space: nowrap;
            background-color: var(--gradient-end);
            padding: 3px 8px;
            border-radius: 5px;
            box-shadow: 0 2px 5px var(--shadow-color);
        }

        .output-layer .neuron-label {
            top: unset;
            bottom: -30px;
        }

        .connections-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1; /* Ensure connections are behind neuron labels if needed */
        }

        .connection {
            stroke: var(--secondary-text-color);
            stroke-width: 2px;
            opacity: 0.6;
            transition: stroke-width 0.3s ease, opacity 0.3s ease, stroke 0.3s ease;
            /* Added animation for line drawing */
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: dash 1s linear forwards;
        }

        @keyframes dash {
            to {
                stroke-dashoffset: 0;
            }
        }

        .connection.positive {
            stroke: var(--primary-color);
            opacity: 0.8;
            stroke-width: 3px;
        }

        .connection.negative {
            stroke: var(--accent-color);
            opacity: 0.8;
            stroke-width: 3px;
        }

        .weight-label {
            position: absolute;
            font-size: 11px; /* Smaller weight labels */
            color: var(--text-color);
            background-color: var(--surface-color);
            padding: 3px 6px;
            border-radius: 5px;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 10;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .output-label {
            margin-top: 20px;
            font-size: 24px; /* Larger output text */
            font-weight: bold;
            color: var(--primary-color);
            text-shadow: 0 0 10px rgba(0, 170, 255, 0.8);
            font-family: 'Orbitron', sans-serif;
        }

        .controls-panel {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .slider-group, .select-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 400;
            color: var(--secondary-text-color);
            font-size: 15px;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 10px; /* Thicker slider track */
            background: #334a5e; /* Darker track */
            border-radius: 5px;
            outline: none;
            transition: background 0.2s ease;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.5);
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px; /* Larger thumb */
            height: 24px;
            background: var(--primary-color);
            border-radius: 50%;
            cursor: grab;
            box-shadow: 0 0 8px var(--primary-color), 0 0 15px rgba(0, 170, 255, 0.4);
            transition: background 0.2s ease, box-shadow 0.2s ease;
            border: 2px solid var(--text-color);
        }

        input[type="range"]::-webkit-slider-thumb:active {
            cursor: grabbing;
            box-shadow: 0 0 15px var(--primary-color), 0 0 25px rgba(0, 170, 255, 0.6);
        }

        input[type="range"]::-moz-range-thumb {
            width: 24px;
            height: 24px;
            background: var(--primary-color);
            border-radius: 50%;
            cursor: grab;
            box-shadow: 0 0 8px var(--primary-color), 0 0 15px rgba(0, 170, 255, 0.4);
            border: 2px solid var(--text-color);
        }
        input[type="range"]::-moz-range-thumb:active {
            cursor: grabbing;
            box-shadow: 0 0 15px var(--primary-color), 0 0 25px rgba(0, 170, 255, 0.6);
        }

        .slider-value {
            min-width: 50px;
            text-align: center;
            color: var(--accent-color);
            font-weight: bold;
            font-size: 1.1em;
            background-color: #2a3d50;
            padding: 5px 10px;
            border-radius: 5px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            background-color: #334a5e; /* Darker select background */
            color: var(--text-color);
            border: 1px solid #556a7f;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23e0e0e0%22%20d%3D%22M287%20163.7c-4.4%204.4-10.9%207-17.7%207H23.1c-6.8%200-13.3-2.7-17.7-7-4.4-4.4-7-10.9-7-17.7s2.7-13.3%207-17.7l116.5-116.5c4.4-4.4%2010.9-7%2017.7-7s13.3%202.7%2017.7%207l116.5%20116.5c4.4%204.4%207%2010.9%207%2017.7s-2.6%2013.3-7%2017.7z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 15px center; /* Centered arrow */
            background-size: 14px; /* Slightly larger arrow */
            cursor: pointer;
            font-size: 1em;
        }

        select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px var(--primary-color), 0 0 10px rgba(0, 170, 255, 0.5);
        }

        .explanation-panel {
            grid-column: span 2; /* Spans full width on larger screens */
            padding: 25px 30px;
        }

        .explanation-panel h3 {
            color: var(--primary-color);
            margin-top: 20px;
            margin-bottom: 10px;
            font-family: 'Roboto', sans-serif;
            font-weight: 700;
        }

        .explanation-panel ul {
            list-style-type: none; /* Remove default bullet */
            padding-left: 0;
        }

        .explanation-panel ul li {
            position: relative;
            padding-left: 25px;
            margin-bottom: 10px;
        }

        .explanation-panel ul li::before {
            content: 'â€¢'; /* Custom bullet point */
            color: var(--primary-color);
            position: absolute;
            left: 0;
            font-size: 1.2em;
            line-height: 1.2;
        }

        .explanation-panel ul ul li::before {
             content: '-'; /* Sub-bullet */
             color: var(--accent-color);
        }

        .explanation-panel p {
            margin-bottom: 12px;
            color: var(--secondary-text-color);
        }

        .explanation-panel strong {
            color: var(--text-color);
        }

        .reset-btn {
            background-color: var(--accent-color);
            color: var(--text-color);
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            margin-top: 15px;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
            letter-spacing: 0.5px;
        }

        .reset-btn:hover {
            background-color: #ff4444;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }
        .reset-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(255, 107, 107, 0.4);
        }


        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            .container {
                gap: 20px;
            }
            h1 {
                font-size: 1.8em;
                margin-bottom: 20px;
            }
            .nn-visualization-panel, .panel-section, .explanation-panel {
                padding: 20px;
            }
            .nn-graph {
                height: 300px;
            }
            .neuron {
                width: 70px;
                height: 70px;
                font-size: 13px;
            }
            .neuron-label {
                font-size: 11px;
                top: -25px;
            }
            .output-label {
                font-size: 20px;
            }
            input[type="range"]::-webkit-slider-thumb,
            input[type="range"]::-moz-range-thumb {
                width: 20px;
                height: 20px;
            }
            .explanation-panel {
                grid-column: span 1; /* Make it single column on smaller screens */
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.5em;
            }
            .nn-graph {
                height: 250px;
            }
            .neuron {
                width: 60px;
                height: 60px;
                font-size: 12px;
            }
            .neuron-label {
                font-size: 10px;
            }
            .output-label {
                font-size: 18px;
            }
            .reset-btn {
                font-size: 1em;
                padding: 10px 20px;
            }
            .slider-container {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
            .slider-value {
                width: 100%;
                text-align: left;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Simple Neuron: Study vs. Sleep ðŸ§ </h1>
    <div class="main-grid">
        <div class="nn-visualization-panel">
            <h2>Neuron Visualization</h2>
            <div class="nn-graph">
                <div class="layer input-layer">
                    <div class="neuron" id="input-study"><span class="neuron-label">Study Hrs (x1)</span></div>
                    <div class="neuron" id="input-sleep"><span class="neuron-label">Sleep Hrs (x2)</span></div>
                </div>
                <div class="layer output-layer">
                    <div class="neuron" id="output-pass"></div>
                </div>
                <svg class="connections-container"></svg>
            </div>
            <div class="output-label" id="output-label">Pass Probability: 0.00%</div>
        </div>

        <div class="controls-panel">
            <div class="panel-section">
                <h2>Input Values</h2>
                <div class="slider-group">
                    <label for="study-hours-slider">Study Hours (x1):</label>
                    <div class="slider-container">
                        <input type="range" id="study-hours-slider" min="0" max="10" step="0.1" value="5">
                        <span class="slider-value" id="study-hours-value">5.0</span>
                    </div>
                </div>
                <div class="slider-group">
                    <label for="sleep-hours-slider">Sleep Hours (x2):</label>
                    <div class="slider-container">
                        <input type="range" id="sleep-hours-slider" min="0" max="10" step="0.1" value="7">
                        <span class="slider-value" id="sleep-hours-value">7.0</span>
                    </div>
                </div>
            </div>

            <div class="panel-section">
                <h2>Weights & Bias</h2>
                <div class="slider-group">
                    <label for="w1-slider">Weight w1 (Study):</label>
                    <div class="slider-container">
                        <input type="range" id="w1-slider" min="-5" max="5" step="0.1" value="1.5">
                        <span class="slider-value" id="w1-value">1.5</span>
                    </div>
                </div>
                <div class="slider-group">
                    <label for="w2-slider">Weight w2 (Sleep):</label>
                    <div class="slider-container">
                        <input type="range" id="w2-slider" min="-5" max="5" step="0.1" value="-0.8">
                        <span class="slider-value" id="w2-value">-0.8</span>
                    </div>
                </div>
                <div class="slider-group">
                    <label for="bias-slider">Bias (b):</label>
                    <div class="slider-container">
                        <input type="range" id="bias-slider" min="-5" max="5" step="0.1" value="0.2">
                        <span class="slider-value" id="bias-value">0.2</span>
                    </div>
                </div>
            </div>

            <div class="panel-section">
                <h2>Activation Function</h2>
                <div class="select-group">
                    <label for="activation-select">Activation Function:</label>
                    <select id="activation-select">
                        <option value="sigmoid" selected>Sigmoid</option>
                        <option value="relu">ReLU</option>
                        <option value="tanh">Tanh</option>
                    </select>
                </div>
            </div>

            <button class="reset-btn" id="reset-btn">Reset All Values</button>
        </div>
    </div>

    <div class="explanation-panel">
        <h2>How This Single Neuron Works</h2>
        <p>This is a simplified version of a neural network, consisting of a single neuron. It demonstrates how a neuron takes multiple inputs, combines them, and produces a single output.</p>

        <h3>Components Explained:</h3>
        <ul>
            <li>
                <p><strong>Input Values (x1, x2):</strong> These are the raw data points we feed into the neuron: Study Hours and Sleep Hours. Their values are controlled by the sliders.</p>
            </li>
            <li>
                <p><strong>Weights (w1, w2):</strong> Weights are numerical values that determine the **importance of each input**. A positive weight means the input contributes to a higher output, while a negative weight means it reduces the output. A larger magnitude means a stronger influence.</p>
            </li>
            <li>
                <p><strong>Bias (b):</strong> The bias is an independent value added to the weighted sum of inputs. It allows the neuron to activate even if the inputs are all zero, giving the model more flexibility.</p>
            </li>
            <li>
                <p><strong>Activation Function:</strong> This function takes the weighted sum of inputs plus the bias and determines the final output of the neuron. It introduces non-linearity, which is essential for learning complex relationships. You can select one of three common activation functions:
                    <ul>
                        <li><strong>Sigmoid:</strong> Maps the output to a probability between 0 and 1. Perfect for this "Pass Probability" scenario.</li>
                        <li><strong>ReLU (Rectified Linear Unit):</strong> Outputs the input value if it's positive, and zero otherwise. Simple and computationally efficient.</li>
                        <li><strong>Tanh (Hyperbolic Tangent):</strong> Maps the output to a range between -1 and 1.</li>
                    </ul>
                </p>
            </li>
            <li>
                <p><strong>Output:</strong> The final result of the neuron's calculation. In this case, it's the Pass Probability, a single value representing the likelihood of passing the exam.</p>
            </li>
        </ul>

        <p>The calculation is straightforward:
        <code>Output = Activation Function((x1 * w1) + (x2 * w2) + b)</code></p>
        <p>Adjust the sliders to see how each parameter instantly affects the final output!</p>
    </div>
</div>

<script>
    const state = {
        inputs: { study: 5, sleep: 7 },
        weights: { w1: 1.5, w2: -0.8 },
        bias: 0.2,
        activation: 'sigmoid',
    };

    const defaultState = JSON.parse(JSON.stringify(state)); // Deep copy for reset

    const elements = {
        sliders: {
            study: document.getElementById('study-hours-slider'),
            sleep: document.getElementById('sleep-hours-slider'),
            w1: document.getElementById('w1-slider'),
            w2: document.getElementById('w2-slider'),
            bias: document.getElementById('bias-slider')
        },
        values: {
            study: document.getElementById('study-hours-value'),
            sleep: document.getElementById('sleep-hours-value'),
            w1: document.getElementById('w1-value'),
            w2: document.getElementById('w2-value'),
            bias: document.getElementById('bias-value')
        },
        neurons: {
            inputStudy: document.getElementById('input-study'),
            inputSleep: document.getElementById('input-sleep'),
            outputPass: document.getElementById('output-pass')
        },
        activationSelect: document.getElementById('activation-select'),
        outputLabel: document.getElementById('output-label'),
        connectionsSVG: document.querySelector('.connections-container'),
        resetBtn: document.getElementById('reset-btn')
    };

    // Helper functions for activation
    const activationFunctions = {
        sigmoid: x => 1 / (1 + Math.exp(-x)),
        relu: x => Math.max(0, x),
        tanh: x => Math.tanh(x)
    };

    function calculateForwardPropagation() {
        const { inputs, weights, bias, activation } = state;
        const { study, sleep } = inputs;
        const { w1, w2 } = weights;

        // Normalize inputs for better visualization (assuming max 10 for study/sleep)
        const studyNormalized = study / 10;
        const sleepNormalized = sleep / 10;

        // Update input neuron color and text
        // Input neuron color intensity based on input value
        elements.neurons.inputStudy.style.backgroundColor = `hsl(210, 70%, ${20 + studyNormalized * 50}%)`;
        elements.neurons.inputSleep.style.backgroundColor = `hsl(210, 70%, ${20 + sleepNormalized * 50}%)`;
        elements.neurons.inputStudy.innerText = study.toFixed(1);
        elements.neurons.inputSleep.innerText = sleep.toFixed(1);

        // Calculate the weighted sum
        const z = (studyNormalized * w1) + (sleepNormalized * w2) + bias;

        // Apply activation function
        const activationFunc = activationFunctions[activation];
        const outputProbability = activationFunc(z);

        // Update output neuron color and text
        // Output neuron color intensity based on output probability
        elements.neurons.outputPass.style.backgroundColor = `hsl(${120 * outputProbability}, 70%, ${20 + outputProbability * 50}%)`; // Green for high, red for low
        elements.neurons.outputPass.innerText = outputProbability.toFixed(2);

        // Update output label
        elements.outputLabel.innerText = `Pass Probability: ${(outputProbability * 100).toFixed(2)}%`;
        
        drawConnections();
    }

    function drawConnections() {
        // Clear previous connections and weight labels
        elements.connectionsSVG.innerHTML = ''; 
        document.querySelectorAll('.weight-label').forEach(label => label.remove());

        const svg = elements.connectionsSVG;
        const neuronMap = {
            inputStudy: elements.neurons.inputStudy,
            inputSleep: elements.neurons.inputSleep,
            outputPass: elements.neurons.outputPass
        };
        const weights = state.weights;
        const connections = [
            { from: 'inputStudy', to: 'outputPass', weight: weights.w1 },
            { from: 'inputSleep', to: 'outputPass', weight: weights.w2 },
        ];

        connections.forEach(conn => {
            const startNeuron = neuronMap[conn.from];
            const endNeuron = neuronMap[conn.to];
            const startRect = startNeuron.getBoundingClientRect();
            const endRect = endNeuron.getBoundingClientRect();
            const svgRect = svg.getBoundingClientRect();

            const startX = startRect.right - svgRect.left - 5;
            const startY = startRect.top + startRect.height / 2 - svgRect.top;
            const endX = endRect.left - svgRect.left + 5;
            const endY = endRect.top + endRect.height / 2 - svgRect.top;

            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line.setAttribute('x1', startX);
            line.setAttribute('y1', startY);
            line.setAttribute('x2', endX);
            line.setAttribute('y2', endY);
            line.classList.add('connection');
            if (conn.weight > 0) {
                line.classList.add('positive');
            } else if (conn.weight < 0) {
                line.classList.add('negative');
            }
            // Dynamic stroke width and opacity based on absolute weight
            line.style.opacity = Math.min(1, Math.abs(conn.weight) / 5 + 0.3); // Min opacity 0.3, max 1
            line.style.strokeWidth = `${Math.min(5, Math.abs(conn.weight) / 1.5 + 1)}px`; // Min 1px, max 5px

            svg.appendChild(line);

            // Add weight label dynamically (repositioned to avoid overlap)
            const midX = (startX + endX) / 2;
            const midY = (startY + endY) / 2;
            const weightLabel = document.createElement('div');
            weightLabel.classList.add('weight-label');
            weightLabel.innerText = conn.weight.toFixed(2);
            weightLabel.style.left = `${midX}px`;
            weightLabel.style.top = `${midY - 15}px`; // Adjust Y to be above the line
            elements.connectionsSVG.parentElement.appendChild(weightLabel);
        });
    }

    function updateStateFromSliders() {
        state.inputs.study = parseFloat(elements.sliders.study.value);
        state.inputs.sleep = parseFloat(elements.sliders.sleep.value);
        state.weights.w1 = parseFloat(elements.sliders.w1.value);
        state.weights.w2 = parseFloat(elements.sliders.w2.value);
        state.bias = parseFloat(elements.sliders.bias.value);

        updateSliderValues();
        calculateForwardPropagation();
    }

    function updateSliderValues() {
        for (const key in elements.values) {
            elements.values[key].innerText = parseFloat(elements.sliders[key].value).toFixed(1);
        }
    }

    function resetNetwork() {
        for (const key in defaultState.inputs) {
            elements.sliders[key].value = defaultState.inputs[key];
        }
        for (const key in defaultState.weights) {
            elements.sliders[key].value = defaultState.weights[key];
        }
        elements.sliders.bias.value = defaultState.bias;
        elements.activationSelect.value = defaultState.activation;

        // Ensure the state object is reset as well
        Object.assign(state, JSON.parse(JSON.stringify(defaultState)));

        updateStateFromSliders();
    }

    // Event Listeners
    for (const key in elements.sliders) {
        elements.sliders[key].addEventListener('input', updateStateFromSliders);
    }
    elements.activationSelect.addEventListener('change', () => {
        state.activation = elements.activationSelect.value;
        calculateForwardPropagation();
    });
    elements.resetBtn.addEventListener('click', resetNetwork);

    // Initial calculation and drawing
    updateSliderValues();
    calculateForwardPropagation();
    // Redraw connections on window resize
    window.addEventListener('resize', calculateForwardPropagation); 
</script>

</body>
</html>
